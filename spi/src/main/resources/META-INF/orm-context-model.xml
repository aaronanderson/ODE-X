<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd" version="2.0">

	<entity class="org.apache.ode.spi.exec.context.Memory">
		<table name="MEMORY" />
		<inheritance strategy="SINGLE_TABLE" />
		<discriminator-value>MEMORY</discriminator-value>
		<discriminator-column name="TYPE" />
		<attributes>
			<id name="physicalAddr">
				<column name="PHYS_ADDR" />
				<generated-value strategy="SEQUENCE" generator="MEM_SEQ" />
				<sequence-generator name="MEM_SEQ" sequence-name="MEM_SEQ" />
			</id>
			<basic name="attr1">
				<column name="ATTR1" />
			</basic>
			<basic name="attr2">
				<column name="ATTR2" />
			</basic>
			<basic name="attr3">
				<column name="ATTR3" />
			</basic>
			<basic name="attr4">
				<column name="ATTR4" />
			</basic>
			<basic name="attr5">
				<column name="ATTR5" />
			</basic>
			<basic fetch="LAZY" name="content">
				<column name="CONTENT" />
				<lob />
			</basic>
			<basic name="virtualAddr">
				<column name="VIRT_ADDR" />
			</basic>
			<one-to-many name="memoryBlocks">
				<order-column name="INDEX" />
				<join-table name="MEMORY_BLOCK">
					<join-column name="BLOCK_ADDR" referenced-column-name="PHYS_ADDR" />
					<inverse-join-column name="PHYS_ADDR" referenced-column-name="PHYS_ADDR" />
				</join-table>
			</one-to-many>
			<one-to-one name="execContext">
				<join-column name="ECTX_ADDR" referenced-column-name="ECTX_ADDR" nullable="false" />
			</one-to-one>
		</attributes>
	</entity>

	<entity class="org.apache.ode.spi.exec.context.ExecutionContext">
		<table name="EXEC_CONTEXT" />
		<inheritance strategy="SINGLE_TABLE" />
		<discriminator-column name="TYPE" />
		<attributes>
			<id name="eCtxAddr">
				<column name="ECTX_ADDR" />
				<generated-value strategy="SEQUENCE" generator="ECTX_SEQ" />
				<sequence-generator name="ECTX_SEQ" sequence-name="ECTX_SEQ" />
			</id>
			<basic name="attr1">
				<column name="ATTR1" />
			</basic>
			<basic name="attr2">
				<column name="ATTR2" />
			</basic>
			<basic name="attr3">
				<column name="ATTR3" />
			</basic>
			<basic name="attr4">
				<column name="ATTR4" />
			</basic>
			<basic name="attr5">
				<column name="ATTR5" />
			</basic>
			<basic fetch="LAZY" name="content">
				<column name="CONTENT" />
				<lob />
			</basic>
			<basic name="name">
				<column name="NAME" />
			</basic>
			<basic name="state">
				<column name="STATE" />
			</basic>
			<one-to-many name="memoryBlocks">
				<order-column name="INDEX" />
				<join-table name="ECTX_MEMORY_BLOCK">
					<join-column name="BLOCK_ADDR" referenced-column-name="ECTX_ADDR" />
					<inverse-join-column name="PHYS_ADDR" referenced-column-name="PHYS_ADDR" />
				</join-table>
			</one-to-many>
			<one-to-many name="eCtxLinks" access="PROPERTY">
				<order-column name="INDEX" />
				<join-column name="ECTX_ADDR" referenced-column-name="ECTX_ADDR" />
				<join-column name="LINK_ADDR" referenced-column-name="ECTX_ADDR" />
				<cascade>
					<cascade-all />
				</cascade>
			</one-to-many>
		</attributes>
	</entity>


	<entity class="org.apache.ode.spi.exec.context.ExecutionContextLink">
		<table name="ECTX_LINK" />
		<id-class class="org.apache.ode.spi.exec.context.ExecutionContextLink$ExecutionContextLinkPK" />
		<attributes>
			<id name="eCtxAddr">
				<column name="ECTX_ADDR" />
			</id>
			<id name="linkAddr">
				<column name="LINK_ADDR" />
			</id>

			<basic name="axis">
				<column name="AXIS" />
			</basic>
			<basic name="relation">
				<column name="RELATION" />
			</basic>
			<!-- The order column is ExecContext class, if the property is not excluded here the table will have duplicate columns -->
			<transient name="index" />
		</attributes>
	</entity>

	<entity class="org.apache.ode.spi.exec.context.xml.Extension">
		<discriminator-value>EXTENSION</discriminator-value>
	</entity>

	<entity class="org.apache.ode.spi.exec.context.xml.Platform">
		<discriminator-value>PLATFORM</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Program">
		<discriminator-value>PROGRAM</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Process">
		<discriminator-value>PROCESS</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Thread">
		<discriminator-value>THREAD</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Block">
		<discriminator-value>BLOCK</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Context">
		<discriminator-value>CONTEXT</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Exchange">
		<discriminator-value>EXCHANGE</discriminator-value>
	</entity>


	<entity class="org.apache.ode.spi.exec.context.xml.Reference">
		<discriminator-value>REFERENCE</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Type">
		<discriminator-value>TYPE</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Scope">
		<discriminator-value>SCOPE</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Variable">
		<discriminator-value>VARIABLE</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.SimpleVariable">
		<discriminator-value>SIMPLEVARIABLE</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.ComplexVariable">
		<discriminator-value>COMPLEXVARIABLE</discriminator-value>
		<attributes>
			<transient name="value" />
		</attributes>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Complex">
		<discriminator-value>COMPLEX</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.Simple">
		<discriminator-value>SIMPLE</discriminator-value>
	</entity>
	<entity class="org.apache.ode.spi.exec.context.xml.JavaVariable">
		<discriminator-value>JAVAVARIABLE</discriminator-value>
	</entity>
</entity-mappings>